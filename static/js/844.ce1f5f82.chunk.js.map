{"version":3,"file":"static/js/844.ce1f5f82.chunk.js","mappings":"yNACA,EAA4B,6BAA5B,EAA2E,mC,SCK9DA,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC1B,GAAkBC,EAAAA,EAAAA,UAAS,IAA3B,eAAOC,EAAP,KAAUC,EAAV,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAqBC,GAArB,WAqBA,OACE,kBAAML,SAfa,SAAAM,GAOnB,GANAA,EAAEC,iBACFF,EAAgB,CAAEG,MAAON,KAKpBA,EAAEO,OACL,OAAOC,EAAAA,GAAAA,MAAY,sDAErBV,EAASE,GACTC,EAAK,GACN,EAG+BQ,UAAWC,EAAzC,WACE,kBACAD,UAAWC,EACTC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,MAAOf,EACPgB,SA3Be,SAAAZ,GACnBH,EAAKG,EAAEa,OAAOF,MACf,KA4BG,mBAAQJ,KAAK,SAAb,sBAGL,E,2BCzBD,EAhBkB,SAAC,GAAgB,IAAdO,EAAa,EAAbA,OACbC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,+BACE,eAAIX,UAAWC,EAAAA,EAAAA,UAAf,SACGQ,EAAOG,KAAI,SAAAC,GAAK,OACf,eAAmBb,UAAWC,EAAAA,EAAAA,cAA9B,UACE,SAAC,KAAD,CAAMa,GAAE,UAAKD,EAAME,IAAMC,MAAO,CAAEC,KAAMP,GAAxC,SAAqDG,EAAMK,SADpDL,EAAME,GADA,OAQxB,ECqCD,EA9Ce,WACb,OAA0BzB,EAAAA,EAAAA,UAAS,IAAnC,eAAOO,EAAP,KAAcsB,EAAd,KACA,GAA4B7B,EAAAA,EAAAA,UAAS,IAArC,eAAOmB,EAAP,KAAeW,EAAf,KACA,GAAsB3B,EAAAA,EAAAA,MAChB4B,GADN,eAC8BC,IAAI,UAGlCC,EAAAA,EAAAA,YAAU,WACJF,GACFF,EAASE,GAGG,KAAVxB,IAIJ2B,EAAAA,EAAAA,GAAY,sBAAD,OAAuB3B,EAAvB,MACR4B,MAAK,SAAAC,GAGJ,GAFAN,EAAUM,EAAKC,SAEa,IAAxBD,EAAKC,QAAQC,OACf,OAAO7B,EAAAA,GAAAA,MAAY,gDAEtB,IACA8B,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZ/B,EAAAA,GAAAA,MAAY,2DACb,GAEJ,GAAE,CAACF,EAAOwB,IAOX,OACE,2BACE,iCACE,SAACjC,EAAD,CAAWC,SARI,SAAAiB,GACnBa,EAASb,GACTc,EAAU,GACX,KAMK,SAAC,EAAD,CAAWX,OAAQA,QAI1B,C,8FCrCYe,EAAW,mCAAG,WAAOS,GAAP,uFACAC,EAAAA,EAAAA,IAAA,UAfV,iCAeU,OAAwBD,EAAxB,mBAdX,qCAaW,cACjBE,EADiB,gBAEVA,EAAST,KAFC,mFAAH,qD,oBCfxB,KAAgB,UAAY,6BAA6B,cAAgB,iCAAiC,oBAAsB,uC","sources":["webpack://react-homework-template/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.js","components/MovieList/MovieList.js","pages/Movies.js","services/fetchMovies.js","webpack://react-homework-template/./src/components/MovieList/MovieList.module.css?6db5"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__5WKzV\",\"SearchFormInput\":\"Searchbar_SearchFormInput__FT6Bx\"};","import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport PropTypes from 'prop-types';\nimport css from './Searchbar.module.css';\n\nexport const Searchbar = ({ onSubmit }) => {\n  const [q, setQ] = useState('');\n  // eslint-disable-next-line no-unused-vars\n  const [searchParams, setSearchParams] = useSearchParams();\n  // const query = searchParams.get('query') ?? '';\n\n  const handleChange = e => {\n    setQ(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: q });\n    // if (q === '') {\n    //   return setSearchParams({});\n\n    // }\n    if (!q.trim()) {\n      return toast.error('Your query is not valid. Type something different.');\n    }\n    onSubmit(q);\n    setQ('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={css.Searchbar}>\n      <input\n      className={css.SearchFormInput}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        value={q}\n        onChange={handleChange}\n      />\n\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import css from './MovieList.module.css';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n  \n  return (\n    <>\n      <ul className={css.MovieList}>\n        {movies.map(movie => (\n          <li key={movie.id} className={css.MovieListItem}>\n            <Link to={`${movie.id}`} state={{ from: location }}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default MovieList;\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","// import { StyledLink } from '../components/App';\n// import { MovieDetails } from './MovieDetails';\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { useState, useEffect } from 'react';\nimport { fetchMovies } from 'services/fetchMovies';\nimport toast from 'react-hot-toast';\nimport MovieList from 'components/MovieList/MovieList';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [searchParam] = useSearchParams();\n  const queryWord = searchParam.get('query')\n  \n\n  useEffect(() => {\n    if (queryWord) {\n      setQuery(queryWord)\n    }\n\n    if (query === '') {\n      return;\n    }\n\n    fetchMovies(`search/movie?query=${query}&`)\n      .then(data => {\n        setMovies(data.results);\n\n        if (data.results.length === 0) {\n          return toast.error('Sorry, there is nothing to match your search.');\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        toast.error('Something went wrong. We could not complete your request');\n      });\n    \n  }, [query, queryWord]);\n\n  const handleSubmit = value => {\n    setQuery(value);\n    setMovies([]);\n  };\n\n  return (\n    <main>\n      <>\n        <Searchbar onSubmit={handleSubmit} />\n        <MovieList movies={movies} />\n      </>\n    </main>\n  );\n};\n\nexport default Movies;","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'bf492d66596427c106e4ba61d2926d57'\n\n\n// export const fetchMovies = async (param) => {\n//     return fetch(`${BASE_URL}${param}?api_key=${API_KEY}`)\n//     .then(resp => {\n//         if(!resp.ok) {\n//             return Promise.reject(\n//                 new Error(resp.status)) \n//         }\n//         return resp.json()\n//     })\n// }\nexport const fetchMovies = async (param) => {\n    const response = await axios.get(`${BASE_URL}${param}api_key=${API_KEY}`)\n    return await response.data;\n}\n// https://api.themoviedb.org/3/movie/768362?api_key=bf492d66596427c106e4ba61d2926d57","// extracted by mini-css-extract-plugin\nexport default {\"MovieList\":\"MovieList_MovieList__92Iqv\",\"MovieListItem\":\"MovieList_MovieListItem__dydvC\",\"MovieListItem_image\":\"MovieList_MovieListItem_image__QmFHT\"};"],"names":["Searchbar","onSubmit","useState","q","setQ","useSearchParams","setSearchParams","e","preventDefault","query","trim","toast","className","css","type","autoComplete","autoFocus","placeholder","value","onChange","target","movies","location","useLocation","map","movie","to","id","state","from","title","setQuery","setMovies","queryWord","get","useEffect","fetchMovies","then","data","results","length","catch","error","console","log","param","axios","response"],"sourceRoot":""}