"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[844],{844:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(439),i=r(791),o=r(87),a=r(14),c="Searchbar_Searchbar__5WKzV",u="Searchbar_SearchFormInput__FT6Bx",s=r(184),m=function(e){var t=e.onSubmit,r=(0,i.useState)(""),m=(0,n.Z)(r,2),l=m[0],f=m[1],h=(0,o.lr)(),v=(0,n.Z)(h,2),d=(v[0],v[1]);return(0,s.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),d({query:l}),!l.trim())return a.Am.error("Your query is not valid. Type something different.");t(l),f("")},className:c,children:[(0,s.jsx)("input",{className:u,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:l,onChange:function(e){f(e.target.value)}}),(0,s.jsx)("button",{type:"submit",children:"Search"})]})},l=r(414),f=r(796),h=r(689),v=function(e){var t=e.movies,r=(0,h.TH)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("ul",{className:f.Z.MovieList,children:t.map((function(e){return(0,s.jsx)("li",{className:f.Z.MovieListItem,children:(0,s.jsx)(o.rU,{to:"".concat(e.id),state:{from:r},children:e.title})},e.id)}))})})},d=function(){var e=(0,i.useState)(""),t=(0,n.Z)(e,2),r=t[0],c=t[1],u=(0,i.useState)([]),f=(0,n.Z)(u,2),h=f[0],d=f[1],p=(0,o.lr)(),_=(0,n.Z)(p,1)[0].get("query");(0,i.useEffect)((function(){_&&c(_),""!==r&&(0,l.v)("search/movie?query=".concat(r,"&")).then((function(e){if(d(e.results),0===e.results.length)return a.ZP.error("Sorry, there is nothing to match your search.")})).catch((function(e){console.log(e),a.ZP.error("Something went wrong. We could not complete your request")}))}),[r,_]);return(0,s.jsx)("main",{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m,{onSubmit:function(e){c(e),d([])}}),(0,s.jsx)(v,{movies:h})]})})}},414:function(e,t,r){r.d(t,{v:function(){return c}});var n=r(861),i=r(757),o=r.n(i),a=r(243),c=function(){var e=(0,n.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("".concat("https://api.themoviedb.org/3/").concat(t,"api_key=").concat("bf492d66596427c106e4ba61d2926d57"));case 2:return r=e.sent,e.next=5,r.data;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},796:function(e,t){t.Z={MovieList:"MovieList_MovieList__92Iqv",MovieListItem:"MovieList_MovieListItem__dydvC",MovieListItem_image:"MovieList_MovieListItem_image__QmFHT"}}}]);
//# sourceMappingURL=844.ce1f5f82.chunk.js.map