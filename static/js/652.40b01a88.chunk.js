"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[652],{652:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(439),i=n(791),o=n(87),u=n(14),s=n(184),c=function(e){var t=e.onSubmit,n=(0,i.useState)(""),c=(0,r.Z)(n,2),a=c[0],m=c[1],l=(0,o.lr)(),f=(0,r.Z)(l,2),h=(f[0],f[1]);return(0,s.jsx)("header",{children:(0,s.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),h({query:a}),!a.trim())return u.Am.error("Your query is not valid. Type something different.");t(a),m("")},children:[(0,s.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:a,onChange:function(e){m(e.target.value)}}),(0,s.jsx)("button",{type:"submit",children:"Search"})]})})},a=n(414),m=n(796),l=n(689),f=function(e){var t=e.movies,n=(0,l.TH)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("ul",{className:m.Z.MovieList,children:t.map((function(e){return(0,s.jsx)("li",{className:m.Z.MovieListItem,children:(0,s.jsx)(o.rU,{to:"".concat(e.id),state:{from:n},children:e.title})},e.id)}))})})},h=function(){var e=(0,i.useState)(""),t=(0,r.Z)(e,2),n=t[0],m=t[1],l=(0,i.useState)([]),h=(0,r.Z)(l,2),v=h[0],d=h[1],p=(0,o.lr)(),x=(0,r.Z)(p,1)[0].get("query");(0,i.useEffect)((function(){x&&m(x),""!==n&&(0,a.v)("search/movie?query=".concat(n,"&")).then((function(e){if(d(e.results),0===e.results.length)return u.ZP.error("Sorry, there is nothing to match your search.")})).catch((function(e){console.log(e),u.ZP.error("Something went wrong. We could not complete your request")}))}),[n,x]);return(0,s.jsx)("main",{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c,{onSubmit:function(e){m(e),d([])}}),(0,s.jsx)(f,{movies:v})]})})}},414:function(e,t,n){n.d(t,{v:function(){return s}});var r=n(861),i=n(757),o=n.n(i),u=n(243),s=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("".concat("https://api.themoviedb.org/3/").concat(t,"api_key=").concat("bf492d66596427c106e4ba61d2926d57"));case 2:return n=e.sent,e.next=5,n.data;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},796:function(e,t){t.Z={MovieList:"MovieList_MovieList__92Iqv",MovieListItem:"MovieList_MovieListItem__dydvC",MovieListItem_image:"MovieList_MovieListItem_image__QmFHT"}}}]);
//# sourceMappingURL=652.40b01a88.chunk.js.map